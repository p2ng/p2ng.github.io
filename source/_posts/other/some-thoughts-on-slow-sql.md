---
title: SomeThoughtsOnSlowSQL
date: 2017-03-16 23:40:21
updated: {{ date }}
categories: other
---

近几年的315都挺紧张，企业都生怕被免费做广告!~

# Why
俾人负责`意见反馈`半年了，系统也准备交接给`客服联络中心`的技术团队。也算是熬过去了(此处暂时省略...天下没有免费的午餐，只有更多的加班~~~)，在将近尾声的时候也顺便处理一下代办吧。就是这篇文章的又来。
`慢SQL!?`什么才算是慢...为什么会有慢SQL。找不了参照文章啦。原文大概意思。`Google搜索响应慢1's，将影响xxx万广告收入`可想而知，在互联网时代速度是有多么的重要。

# How
## 水库开闸
1. 设置阀值
1. 设置没有索引
1. 开启写入到文件
1. 开启写入到数据库

## 过滤
1. 定位慢SQL出现的场景，理解前后业务代码逻辑。【首要工作!!!】

## 处理
1. SQL是否存在致命性根本问题。（自身问题排查）【优化成本：低~高】
1. explain执行计划查看避免全表大数据量查询，适当配合索引【优化成本：低~中；视SQL深度难度】
1. 业务逻辑是否符合常理，DB设计是否符合常理（业务排查）；但是一般运行一段时间的系统不可能随便更改表结构！！！【优化成本：高】
1. Hlod！？、不管！？、DBA不找事！？、系统不出问题！？、接盘侠！？跑路！？【优化成本：无；最被动，没进步，LOW，Loster】

# What
1. 评估慢SQL的严重程度（执行时长？执行次数？）后面再补充...
1. 希望能遇到个些容易说话的`产品经理+`!!!
1. 软技能到达瓶颈，说话技巧优待长进，如何才能好好的处理问题和与产品聊天!~

# 参考
http://www.woshipm.com/pd/584348.html
http://36kr.com/p/213423.html
http://open.163.com/movie/2011/7/0/A/M78065A8E_M7806OF0A.html
https://www.zhihu.com/question/19957581
http://www.wtoutiao.com/p/135JRBN.html
